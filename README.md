# üõí MicroShop - –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è E-commerce –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö **Django REST Framework** –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ **Vue.js 3**, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∞—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **üì¶ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º
- **üõí –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω–æ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **üìã –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤** - –ü–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–∫–∞–∑–∞ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞
- **üåê API Gateway** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Å–∫–æ—Ä–æ—Å—Ç–∏
- **‚ö° –°–æ–±—ã—Ç–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - Redis pub/sub –¥–ª—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **üì± –û—Ç–∑—ã–≤—á–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Vue.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å Tailwind CSS

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TB
    Frontend[Vue.js –§—Ä–æ–Ω—Ç–µ–Ω–¥] --> Gateway[API Gateway]
    Gateway --> UserService[–°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π]
    Gateway --> ProductService[–°–µ—Ä–≤–∏—Å —Ç–æ–≤–∞—Ä–æ–≤]
    Gateway --> CartService[–°–µ—Ä–≤–∏—Å –∫–æ—Ä–∑–∏–Ω—ã]
    Gateway --> OrderService[–°–µ—Ä–≤–∏—Å –∑–∞–∫–∞–∑–æ–≤]

    UserService --> UserDB[(–ë–î –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)]
    ProductService --> ProductDB[(–ë–î —Ç–æ–≤–∞—Ä–æ–≤)]
    CartService --> CartDB[(–ë–î –∫–æ—Ä–∑–∏–Ω—ã)]
    OrderService --> OrderDB[(–ë–î –∑–∞–∫–∞–∑–æ–≤)]

    UserService --> Redis[(Redis)]
    CartService --> Redis
    OrderService --> Redis
    ProductService --> Redis
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.9+
- Node.js 16+
- Redis —Å–µ—Ä–≤–µ—Ä

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
git clone <url-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
cd microshop
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - –°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
cd services/user-service
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver 0.0.0.0:8004

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - –°–µ—Ä–≤–∏—Å —Ç–æ–≤–∞—Ä–æ–≤
cd services/product-service
pip install -r requirements.txt
python manage.py migrate
python manage.py loaddata fixtures/products.json
python manage.py runserver 0.0.0.0:8001

# –¢–µ—Ä–º–∏–Ω–∞–ª 3 - –°–µ—Ä–≤–∏—Å –∫–æ—Ä–∑–∏–Ω—ã
cd services/cart-service
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver 0.0.0.0:8002

# –¢–µ—Ä–º–∏–Ω–∞–ª 4 - –°–µ—Ä–≤–∏—Å –∑–∞–∫–∞–∑–æ–≤
cd services/order-service
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver 0.0.0.0:8003

# –¢–µ—Ä–º–∏–Ω–∞–ª 5 - API Gateway
cd api-gateway
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver 0.0.0.0:8000

# –¢–µ—Ä–º–∏–Ω–∞–ª 6 - –§—Ä–æ–Ω—Ç–µ–Ω–¥
cd frontend
npm install
npm run dev
```

### 3. –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: http://localhost:3000
- **API Gateway**: http://localhost:8000
- **–°–µ—Ä–≤–∏—Å—ã**: 8001 (–¢–æ–≤–∞—Ä—ã), 8002 (–ö–æ—Ä–∑–∏–Ω–∞), 8003 (–ó–∞–∫–∞–∑—ã), 8004 (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
microshop/
‚îú‚îÄ‚îÄ üåê frontend/                 # Vue.js 3 + Tailwind CSS
‚îÇ   ‚îú‚îÄ‚îÄ src/components/          # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ src/views/              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ src/store/              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º Pinia
‚îÇ   ‚îî‚îÄ‚îÄ src/services/           # API —Å–µ—Ä–≤–∏—Å—ã
‚îú‚îÄ‚îÄ üö™ api-gateway/             # Django API Gateway
‚îÇ   ‚îî‚îÄ‚îÄ apps/gateway/           # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ üè¢ services/
‚îÇ   ‚îú‚îÄ‚îÄ üë§ user-service/        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ üì¶ product-service/     # –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
‚îÇ   ‚îú‚îÄ‚îÄ üõí cart-service/        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω–æ–π –ø–æ–∫—É–ø–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ üìã order-service/       # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
‚îî‚îÄ‚îÄ üìä databases/               # SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Django REST Framework
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (Simple JWT)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (–ª–µ–≥–∫–æ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è)
- **–ö—ç—à –∏ —Å–æ–±—ã—Ç–∏—è**: Redis
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

### Frontend
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Vue.js 3 (Composition API)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: Pinia
- **–°—Ç–∏–ª–∏**: Tailwind CSS
- **HTTP –∫–ª–∏–µ–Ω—Ç**: Axios
- **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: Vue Router

## üìã API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (8004)
```
POST   /api/users/register/     # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /api/auth/login/         # –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /api/users/profile/      # –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### –°–µ—Ä–≤–∏—Å —Ç–æ–≤–∞—Ä–æ–≤ (8001)
```
GET    /api/products/           # –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
GET    /api/products/{id}/      # –î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
GET    /api/categories/         # –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```

### –°–µ—Ä–≤–∏—Å –∫–æ—Ä–∑–∏–Ω—ã (8002)
```
GET    /api/cart/               # –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /api/cart/add/           # –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
PUT    /api/cart/update/{id}/   # –û–±–Ω–æ–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∫–æ—Ä–∑–∏–Ω—ã
```

### –°–µ—Ä–≤–∏—Å –∑–∞–∫–∞–∑–æ–≤ (8003)
```
GET    /api/orders/             # –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /api/orders/create/      # –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
GET    /api/orders/{id}/        # –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
```

## üîÑ –°–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–µ—Ä–≤–∏—Å—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —á–µ—Ä–µ–∑ Redis pub/sub –¥–ª—è —Å–ª–∞–±–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

- `order.created` ‚Üí –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `order.cancelled` ‚Üí –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å
- `product.updated` ‚Üí –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤–∫–ª—é—á–∞–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è:
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: `http://localhost:800X/admin/`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è**: `http://localhost:800X/health/`

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
```bash
# –í –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
python manage.py createsuperuser
```

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
# –¢–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ —Ç–æ–≤–∞—Ä–æ–≤
cd services/product-service
python manage.py loaddata fixtures/products.json
```

### –ó–∞–ø—É—Å–∫ Redis (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
```bash
# Ubuntu/Debian
sudo apt-get install redis-server
sudo systemctl start redis

# macOS
brew install redis
brew services start redis

# Windows
# –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Redis —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
- **3000**: Vue.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- **8000**: API Gateway
- **8001**: Product Service
- **8002**: Cart Service
- **8003**: Order Service
- **8004**: User Service

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç
```bash
# –ù–∞–π—Ç–∏ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
lsof -ti:8000 | xargs kill -9
```

### –ü—Ä–æ–±–ª–µ–º–∞: Redis –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Redis
redis-cli ping
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å PONG
```
